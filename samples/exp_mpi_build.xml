<?xml version="1.0"?>
<!DOCTYPE experiment SYSTEM "../../dtd/pb_experiment.dtd">

<experiment>
  <name>engine_build</name>

  <!-- *** -->
  <!-- *** general information on the experiment -->
  <!-- *** -->
  <info>
    <performed_by> 
      <name>MTT Engine</name>
      <organization>The Open MPI Project</organization>
    </performed_by> 
    <project>MPI Testing Tool</project>
    <synopsis>Results of MTT MPI builds</synopsis>
    <description>
      We want to store the results and parameters of various MPI builds for
      later reference and error checking.
    </description>
  </info>


  <!-- *** -->
  <!-- *** parameters -->
  <!-- *** -->
  <parameter occurence="once">
    <name>hostname</name>
    <synopsis>host name</synopsis>
    <datatype>string</datatype>
  </parameter>

  <parameter occurence="once">
    <name>os_name</name>
    <synopsis>operating system name</synopsis>
    <datatype>string</datatype>
  </parameter>

  <parameter occurence="once">
    <name>os_version</name>
    <synopsis>operating system version</synopsis>
    <datatype>string</datatype>
  </parameter>

  <parameter occurence="once">
    <name>platform_hardware</name>
    <synopsis>platform architecture</synopsis>
    <datatype>string</datatype>
  </parameter>

  <parameter occurence="once">
    <name>platform_type</name>
    <synopsis>platform os/architecture</synopsis>
    <datatype>string</datatype>
  </parameter>

  <parameter occurence="once">
    <name>submit_timestamp</name>
    <synopsis>date and time the build results were submitted</synopsis>
    <datatype>timestamp</datatype>
  </parameter>

  <parameter occurence="once">
    <name>compiler_name</name>
    <synopsis>compiler name</synopsis>
    <datatype>string</datatype>
  </parameter>

  <parameter occurence="once">
    <name>compiler_version</name>
    <synopsis>compiler version</synopsis>
    <datatype>string</datatype>
  </parameter>

  <parameter occurence="once">
    <name>configure_arguments</name>
    <synopsis>arguments that were given to ./configure or equivalent</synopsis>
    <datatype>string</datatype>
  </parameter>

  <parameter occurence="multiple">
    <name>environment</name>
    <synopsis>environment the build was performed in</synopsis>
    <datatype>string</datatype>
  </parameter>
  
  <parameter occurence="once">
    <name>mpi_name</name>
    <synopsis>MPI name</synopsis>
    <datatype>string</datatype>
  </parameter>

  <parameter occurence="once">
    <name>mpi_section_name</name>
    <synopsis>MPI section name</synopsis>
    <datatype>string</datatype>
  </parameter>

  <parameter occurence="once">
    <name>mpi_unique_id</name>
    <synopsis>MPI unique identifier</synopsis>
    <datatype>string</datatype>
  </parameter>

  <parameter occurence="once">
    <name>mpi_version</name>
    <synopsis>MPI version</synopsis>
    <datatype>string</datatype>
  </parameter>

  <parameter occurence="once">
    <name>platform_id</name>
    <synopsis>platform identifier</synopsis>
    <datatype>string</datatype>
  </parameter>

  <parameter occurence="once">
    <name>section_name</name>
    <synopsis>section name</synopsis>
    <datatype>string</datatype>
  </parameter>

  <parameter occurence="once">
    <name>stdout_stderr_combined</name>
    <synopsis>true if stdout and stderr are combined output</synopsis>
    <datatype>boolean</datatype>
  </parameter>
  
  <parameter occurence="once">
    <name>vpath_mode</name>
    <synopsis>whether this is a VPATH build or not</synopsis>
    <datatype>boolean</datatype>
  </parameter>



  <!-- *** -->
  <!-- *** results -->
  <!-- *** -->
  <result occurence="once">
    <name>success</name>
    <synopsis>true if build was successful</synopsis>
    <datatype>boolean</datatype>
  </result>

  <result occurence="once">
    <name>result_message</name>
    <synopsis>one-line summary of build result</synopsis>
    <datatype>string</datatype>
  </result>

  <result occurence="multiple">
    <name>stderr</name>
    <synopsis>stderr output from build</synopsis>
    <datatype>string</datatype>
  </result>

  <result occurence="multiple">
    <name>stdout</name>
    <synopsis>stdout output from build</synopsis>
    <datatype>string</datatype>
  </result>
  
  <result occurence="once">
    <name>start_timestamp</name>
    <synopsis>date and time the MPI build was started</synopsis>
    <datatype>timestamp</datatype>
  </result>

  <result occurence="once">
    <name>stop_timestamp</name>
    <synopsis>date and time the MPI build finished</synopsis>
    <datatype>timestamp</datatype>
  </result>
  
  <result occurence="once">
    <name>timestamp</name>
    <synopsis>date and time the build was performed</synopsis>
    <datatype>timestamp</datatype>
  </result>

</experiment>


